<h1 class="title">Quiz Maker</h1>
<ng-container>
    <div class="form-group select-wrapper container">
        <select name="categorySelect" id="categorySelect" [(ngModel)]="category" #categorySelect class="form-control">
            <option value="" [hidden]="+categorySelect.value >= 0">
                Select a category
            </option>
            <option [value]="category.id" *ngFor="let category of categories">
                {{ category.name }}
            </option>
        </select>
        <select name="difficultySelect" id="difficultySelect" [(ngModel)]="difficulty" #difficultySelect
            class="form-control">
            <option value="" [hidden]="+difficultySelect.value >= 0">
                Select a difficulty
            </option>
            <option value="1">Easy</option>
            <option value="2">Medium</option>
            <option value="3">Hard</option>
        </select>
        <button type="submit" id="createBtn" class="btn" [disabled]="isDisable()" (click)="createQuestions()">
            Create
        </button>
    </div>
</ng-container>
<ng-container *ngIf="showQuestions">
    <ng-container *ngIf="hasSelection; else loading">

        <div *ngFor="let question of questionForm.controls; index as i">
            <h5 class="questions" [innerHTML]="question.value"></h5>
            <form class="questions" [formGroup]="getSelectedItemFormGroup(selectionForm.controls[i])">
                <ng-container *ngFor="let value of answersForm.controls[i].value">
                    <button appToggle class="btn btn-outline-success mr-2" [innerHTML]="value" name="item" 
                        formControlName="item" ngDefaultControl
                        (click)="onClickAnswer(value, selectionForm.controls[i])"></button>
                </ng-container>
            </form>
        </div>
        <div class="questions">
            <button class="btn btn-secondary mt-5 col-md-6" *ngIf="checkResult()" (click)="clickAnswers()"
                [routerLink]="'/resultQuiz'">Submit</button>
        </div>
    </ng-container>

    <ng-template #loading>
        <h3 class="title">Loading...</h3>
    </ng-template></ng-container>